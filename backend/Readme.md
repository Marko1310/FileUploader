# Blog API

This is a Node.js API that allows users to register, log in, create blogs and view blogs.

Built with Express.js framework.

Authentication is handled with JWT tokens, and passwords are hashed with bcrypt.

The API is built with a PostgreSQL database connected with Sequelize.

## Routes

The following routes are documented in Postman documentation:
https://documenter.getpostman.com/view/25387074/2s93sgXAh3

## Database

The API uses a PostgreSQL database connected with Sequelize. The database is hosted online, so you don't need to set it up locally.

## Security

Passwords are hashed with bcrypt to ensure secure storage. Authentication is handled with JWT tokens, which are generated on login and register and sent back to the client.

## Authoriztion

Unauthenticated users can only view public blogs.
Admin has access to all of the blogs and can allow/decline a certain blog.
If an Admin allows a users blog, the user becomes a Blogger and can view all of his blogs.

## Usage

To run the API locally, follow these steps:

Clone this repository to your local machine.  
Install the required dependencies by running npm install.  
Start the development server with npm run dev.
Start the production server with npm run dev.  
Use a tool like Postman and follow the linked Postman documentation to make requests to the API.

# Additional Features

1. TypeScript: Implemented for type safety, improved developer productivity, and enhanced code maintainability.
2. Bcrypt: Utilized to securely hash user passwords, providing an additional layer of protection against unauthorized access, including by the admin.
3. ORM Tool (e.g., Sequelize): Integrated to connect to PostgreSQL database, mitigating risks of SQL injection attacks and offering built-in safety checks and query optimizations.
4. Not Found Route: Implemented to handle and gracefully respond to requests for non-existent routes, ensuring a user-friendly experience by providing clear feedback when a route is not available on the server.
5. Big Unit Test Coverage: Implemented to achieve a comprehensive coverage of the application's codebase through unit tests. This ensures that each component and function is thoroughly tested, helping to identify and prevent potential bugs, errors, and regressions.
6. Admin Blog Post Auto-Approval: To streamline the process and ensure timely publication, an additional feature allows admins to post blogs that are automatically set to the "allowed" status. This eliminates the need for manual approval and enables immediate public visibility of the admin's blog posts.
7. Limited User Information for Authenticated Users: To maintain privacy and restrict access to user data, authenticated users are only provided with a list of userNames. This practice prevents unauthorized users from accessing sensitive information. In contrast, administrators have privileged access and can view the full list of users, including their complete profile details. This differentiation between authenticated users and administrators ensures appropriate data security and access control.
8. Unique UserName: The addition of a unique UserName field in the user registration process serves multiple purposes:

- Enhanced User Privacy: By allowing authenticated users to view only UserNames and no other personal information, it prioritizes user privacy and limits the exposure of sensitive data. Administrators retain access to full user information for administrative purposes.
- Autogenerated Author Identification: Since the author of a blog post needs to be autogenerated, it is considered a best practice to use a public variable other than the user's name, last name, or email for identification. Using the UserName field as the author provides a distinct identifier that does not reveal personally identifiable information.
- Unauthenticated User Experience: When unauthenticated users request a list of all allowed blogs, it is important to provide information about the author. The UserName field serves as an appropriate and non-sensitive piece of information to display, allowing users to identify the authors of the blog posts without revealing personal details.
- By incorporating a unique UserName field, the application enhances user privacy, ensures appropriate author identification, and provides a seamless experience for unauthenticated users accessing blog information.

## Credits

This API was created by Marko ÄŒabo.
